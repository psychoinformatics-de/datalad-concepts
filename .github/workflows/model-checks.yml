name: Model checks

on:
  push:
    branches:
      - main
  pull_request:

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v5

      - name: "Set up Python"
        uses: actions/setup-python@v5
        with:
          python-version-file: "pyproject.toml"

      - name: Install uv
        uses: astral-sh/setup-uv@v6

      - name: Install hatch
        # click version is temporary fix for https://github.com/pypa/hatch/issues/2050
        run: uv tool install hatch --with 'click <8.3'

      - name: Run checks
        run: |
          hatch run check:models
