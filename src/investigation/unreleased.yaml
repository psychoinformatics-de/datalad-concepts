id: https://concepts.datalad.org/s/investigation/unreleased
name: investigation-schema
version: UNRELEASED
status: eunal:concept-status/DRAFT
title: Schema for a describing an Investigation
description: |

  The schema is available as

  - [JSON-LD context](../unreleased.jsonld)
  - [LinkML YAML](../unreleased.yaml)
  - [OWL TTL](../unreleased.owl.ttl)
  - [SHACL TTL](../unreleased.shacl.ttl)

comments:
  - ALL CONTENT HERE IS UNRELEASED AND MAY CHANGE ANY TIME

license: MIT

prefixes:
  # Copied from eDistribution
  dcat: http://www.w3.org/ns/dcat#
  dcterms: http://purl.org/dc/terms/
  dctypes: http://purl.org/dc/dcmitype/
  dlschemas: https://concepts.datalad.org/s/
  dlinvestigation: https://concepts.datalad.org/s/investigation/unreleased/
  dpv: https://w3id.org/dpv#
  eunal: http://publications.europa.eu/resource/authority/
  linkml: https://w3id.org/linkml/
  obo: http://purl.obolibrary.org/obo/
  owl: http://www.w3.org/2002/07/owl#
  pav: http://purl.org/pav/
  prov: http://www.w3.org/ns/prov#
  schema: http://schema.org/
  skos: http://www.w3.org/2004/02/skos/core#
  sio: http://semanticscience.org/resource/
  # custom prefix for Ontology for BioMedical Investigations
  # is .owl okay ?
  obi: http://purl.obolibrary.org/obo/obi.owl

default_prefix: dlinvestigation

imports:
  - dlschemas:types/unreleased
  - dlschemas:resources/unreleased

Classes:
  Investigation:
    is_a: Activity # inherits temporal properties
    description: >- 
      A Planned process undertaking a research study.
    exact_mappings: obo:OBI_0000066
    slots:
      - pid
      - title #dcterms:title
      - study_type
      - status # Looking at https://hub.psychoinformatics.de/inm7/inm7-concepts/issues/7 , may be status can be inferred using time
      - creator #agent , may be we need a slot for PI too
      - started_at  #prov:Activity
      - ended_at #prov:Activity
      - study_design
      - groups #check
      - study_participants
      - group_assignment
      - visits
      - data_captures # idea is to tie the resulting data into the investigation
      - location
slots:
  study_design:
    description: The design of the investigation.
    range: StudyDesign
    exact_mappings:
      - obo:OBI_0500000

  groups:
    description: Set of Agents/ Study Participants
    range: Agent #dlschemas
    broad_mappings:
      - obo:OBI_0000174 # this is the study group role, May be use COhort role: OBI_0000252
    # multivalued: true
  creator: # not sure about this
    description: Agent creating the study
    range: Agent #dlschemas
    exact_mappings:
      - dcterms:creator

  participants:
    description: Subjects taking part in the study.
    range: Agent  # e.g., Person or StudyParticipant
    multivalued: true

  status: #can be derived from prov:startedAt, prov:endedAt
    description: >-
      The current status of the Investigation, e.g., Planning, Ongoing, Completed.
    range: xsd:string

  study_type:
    description: >-
      The type of study, e.g., observational, interventional, longitudinal, cross-sectional.
    range: xsd:string #may be an enum ?

  group_assignments: # not sure.
    description: Records of assignment of participants to the defined groups of the study.
    range: GroupAssignment
    multivalued: true


  visits:
    description: Planned study visits(modeled as Activities) for Specimen collection.
    range: Visit #visit as an activity class should be separately done.
    multivalued: true

  keywords:
    description: A set of keywords or tags describing the Investigation.
    range: xsd:string
    multivalued: true

  Sponsor:
    description: One or more sponsors / Grants/ Funding Agencies.
    range: Grants #dlschema
    multivalues: True


  data_captures:
    description: Data capture activities (measurements or experimental procedures) conducted in the study.
    range: DataCapture
    multivalued: true

  location:
    description: Place in which the Investigation is taking place.
    range: Location #dlschema
    multivalues: true